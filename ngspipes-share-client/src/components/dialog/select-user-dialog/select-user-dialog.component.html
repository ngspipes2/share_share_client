<div class="container">
    <p>Select User:</p>
    <mat-dialog-content>
        <div class="spinner" *ngIf="loading">
            <mat-spinner color="accent" diameter="25"></mat-spinner>
        </div>
        <form *ngIf="!loading">
            <mat-form-field class="fill">
                <input matInput placeholder="UserName" [formControl]="control" [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete" (optionSelected)="dialogRef.close($event.option.value)">
                    <mat-option *ngFor="let userName of filteredOptions | async" [value]="userName">
                        <div class="option">
                            <div class="image">
                                <app-user-image [userName]="userName" spinnerDiameter="15"></app-user-image>
                            </div>
                            <div class="name" [matTooltip]="userName">
                                {{userName}}
                            </div>
                        </div>
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
        </form>
    </mat-dialog-content>
</div>
